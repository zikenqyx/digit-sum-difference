# 数字和差值计算器

这是一个高性能的Python程序，用于解决以下问题：
在100万个1到100,000之间的随机整数中，找出各位数字之和为30的最大数和最小数之间的差。

## 功能特点

- 生成100万个随机整数（范围：1-100,000）
- 使用多进程并行计算提高性能
- 优化的数字各位之和计算算法
- 详细的性能统计和分析
- 可重现的结果（使用固定随机种子）

## 性能优化

1. 使用数学运算代替字符串操作进行数字各位之和计算
2. 利用多进程并行处理提高计算速度
3. 根据CPU核心数自动优化任务分配
4. 高效的内存使用

## 运行要求

- Python 3.6+
- 无需额外的第三方库

### Windows用户注意事项

在Windows系统上运行时，可能会看到以下警告信息：
```
Could not find platform independent libraries <prefix>
```
这是Python多进程在Windows上的一个常见提示，不会影响程序的正常运行和结果，可以安全忽略。

## 使用方法

直接运行Python脚本：

```bash
python digit_sum_difference.py
```

## 输出说明

程序会输出以下信息：
1. 计算结果（最大数和最小数之差）
2. 找到的符合条件的数字个数
3. 详细的时间统计：
   - 生成随机数耗时
   - 查找目标数字耗时
   - 计算最大最小值之差耗时
   - 总运行时间
4. 性能分析：
   - 每秒处理的数字数量
   - CPU核心使用情况

## 示例输出

```
各位数字之和为30的最大数和最小数之差为: 95931
找到的符合条件的数字个数: 32801

运行时间统计:
生成随机数耗时: 0.3416 秒
查找目标数字耗时: 0.4881 秒
计算最大最小值之差耗时: 0.0004 秒
总运行时间: 0.8421 秒

性能分析:
每秒处理数字数量: 1187469 个/秒
CPU核心数量: 16 个
```

## 实现细节

- 使用 `time.perf_counter()` 进行高精度时间测量
- 使用 `ProcessPoolExecutor` 进行多进程并行计算
- 优化的 `digit_sum` 函数使用数学运算代替字符串操作
- 自动根据CPU核心数进行任务分块处理

## 注意事项

- 程序使用固定的随机种子(42)，因此每次运行结果相同
- 实际运行时间可能因硬件配置不同而异
- 程序会自动使用所有可用的CPU核心进行计算 